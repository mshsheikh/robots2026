<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Robots 2026 â€“ AI Chat</title>
  <style>
    body {
      font-family: system-ui, sans-serif;
      background: #0f172a;
      color: #e5e7eb;
      padding: 16px;
    }
    #chat {
      max-width: 720px;
      margin: auto;
    }
    .msg {
      margin: 8px 0;
      padding: 10px;
      border-radius: 6px;
    }
    .user {
      background: #1e293b;
      text-align: right;
    }
    .bot {
      background: #020617;
      border: 1px solid #1e293b;
    }
    textarea {
      width: 100%;
      height: 70px;
      margin-top: 10px;
    }
    button {
      margin-top: 8px;
      padding: 8px 12px;
      background: #2563eb;
      color: white;
      border: none;
      border-radius: 4px;
      cursor: pointer;
    }
  </style>
</head>
<body>
  <div id="chat">
    <h2>ðŸ¤– Robots 2026 â€” AI Assistant</h2>
    <div id="messages"></div>
    <textarea id="input" placeholder="Ask a question about the Robots 2026 book..."></textarea>
    <button onclick="send()">Ask</button>
  </div>

  <script>
    const messages = document.getElementById("messages");

    function addMessage(text, cls) {
      const div = document.createElement("div");
      div.className = "msg " + cls;
      div.textContent = text;
      messages.appendChild(div);
      messages.scrollTop = messages.scrollHeight;
    }

    async function send() {
      const input = document.getElementById("input");
      const question = input.value.trim();
      if (!question) return;

      addMessage(question, "user");
      input.value = "";

      try {
        const res = await fetch("http://localhost:8000/ask", {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({ question })
        });

        const data = await res.json();
        addMessage(data.answer || "No response", "bot");
      } catch (err) {
        addMessage("Backend not reachable.", "bot");
      }
    }
  </script>
</body>
</html>